(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e){e.exports={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:1,Location:"Maziwe Island",Date:"6/4/2018",Day:"Monday",Time:"12:29:53 PM","Time of Day":"PM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180604_122952_913","Blast Bearing":28.66,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:2,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"8:29:45 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180616_082945_232","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:3,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"9.22.11 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180616_092210_704","Blast Bearing":31.72,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:4,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"9:23:03 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180616_092302_771","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:5,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"9:24:45 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180616_092445_315","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:6,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"9.29:45 AM","Time of Day":"AM",Year:2018,"Tidal State":"High",Tide:"Normal","Wav-File-Name":"Ish_Bomb20180616_092956_809","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:7,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"11:08:16 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Normal","Wav-File-Name":"Ish_Bomb20180616_110815_511","Blast Bearing":24.59,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:8,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"11:13:16 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180616_111315_609","Blast Bearing":31.48,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:9,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"11:27:47 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180616_112746_876","Blast Bearing":36.93,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:10,Location:"Maziwe Island",Date:"6/25/2018",Day:"Monday",Time:"8:15:53 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180625_081553_435","Blast Bearing":28.62,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:11,Location:"Maziwe Island",Date:"6/25/2018",Day:"Monday",Time:"9:06:39 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180625_090639_061","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:12,SLocation:"Maziwe Island",Date:"7/8/2018",Day:"Sunday",Time:"9:34:31 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180708_093430_749","Blast Bearing":26.95,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:13,Location:"Maziwe Island",Date:"7/8/20187",Day:"Sunday",Time:"12:52:37 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180708_125236_672","Blast Bearing":25.58,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:14,Location:"Maziwe Island",Date:"7/10/2018",Day:"Tuesday",Time:"9:31:09 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180710_093109_435","Blast Bearing":27.05,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:15,Location:"Maziwe Island",Date:"7/11/2018",Day:"Wednesday",Time:"7:59:01 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180711_075900_759","Blast Bearing":28.57,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:16,Location:"Maziwe Island",Date:"7/11/2018",Day:"Wednesday",Time:"8:40:15 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180711_084015_259","Blast Bearing":27.05,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:17,Location:"Maziwe Island",Date:"7/11/2018",Day:"Wednesday",Time:"8:40:34 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180711_084033_760","Blast Bearing":27.05,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:18,Location:"Maziwe Island",Date:"7/12/2018",Day:"Thursday",Time:"7:40:49 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180712_074048_850","Blast Bearing":22.77,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:19,Location:"Maziwe Island",Date:"7/12/2018",Day:"Thursday",Time:"8:40:25 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180712_084025_028","Blast Bearing":22.07,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:20,Location:"Maziwe Island",Date:"7/13/2018",Day:"Friday",Time:"9:30:39 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180713_093038_601","Blast Bearing":36.49,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:21,Location:"Maziwe Island",Date:"7/13/2018",Day:"Friday",Time:"9:50:32 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180713_095031_517","Blast Bearing":31.77,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:22,Location:"Maziwe Island",Date:"7/14/2018",Day:"Saturday",Time:"12:32:11 PM","Time of Day":"PM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180714_123210_673","Blast Bearing":34.84,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.3,-4.9]},properties:{id:23,Location:"Maziwe Island",Date:"7/15/2018",Day:"Sunday",Time:"8:41:02 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180715_084102_135","Blast Bearing":33.23,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.3,-4.9]},properties:{id:24,Location:"Fish Eagle",Date:"8/8/2018",Day:"Wednesday",Time:"14:29:37 PM","Time of Day":"PM",Year:2018,"Tidal State":"High",Tide:"Normal","Wav-File-Name":"Ish_Bomb20180808_142936_784","Blast Bearing":15.38,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:25,Location:"Fish Eagle",Date:"8/21/2018",Day:"Tuesday",Time:"15:20:55 PM","Time of Day":"PM",Year:2018,"Tidal State":"Falling",Tide:"Normal","Wav-File-Name":"Ish_Bomb20180821_152054_827","Blast Bearing":15.41,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:26,Location:"Maziwe Island",Date:"9/29/2018",Day:"Saturday",Time:"9:35:14 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180929_093514_719","Blast Bearing":17.54,"Detection Radius(km)":"30"}}]}},26:function(e,a,t){e.exports=t(45)},31:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var i=t(0),r=t.n(i),o=t(8),n=t.n(o),l=(t(31),t(11)),s=t(23),m=t(5);function c(e){return e.map(function(e){return Number(e.toFixed(3))})}function d(e){var a=new Set(e.features.map(function(e){return c(e.geometry.coordinates).join(",")}));return Array.from(a).map(function(e){var a=e.split(",");return[Number(a[0]),Number(a[1])]})}function y(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64;return{type:"geojson",data:{type:"FeatureCollection",features:e.map(function(e){for(var i,r,o,n=e[1],l=e[0],s=a,m=[],c=s/(111.32*Math.cos(n*Math.PI/180)),d=s/110.574,y=0;y<t;y++)i=y/t*(2*Math.PI),r=c*Math.cos(i),o=d*Math.sin(i),m.push([l+r,n+o]);return m.push(m[0]),{type:"Feature",geometry:{type:"Polygon",coordinates:[m]}}})}}}function u(e,a,t){var i=[];return a.forEach(function(a){var r=e.features.filter(function(e){return c(e.geometry.coordinates).join(",")===a.join(",")}).map(function(e){return e.properties});i=i.concat(r.map(function(e){var i,r,o,n=e["Blast Bearing"],l=t/(111.32*Math.cos(a[1]*Math.PI/180)),s=t/110.574;return i=n*Math.PI/180,r=l*Math.cos(i),o=s*Math.sin(i),{type:"Feature",properties:e,geometry:{type:"LineString",coordinates:[a,[a[0]+r,a[1]+o]]}}}))}),{type:"geojson",data:{type:"FeatureCollection",features:i}}}var p=Object(m.e)({accessToken:"pk.eyJ1IjoiY29kZWZvcmFmcmljYSIsImEiOiJjanZpMnRvdHYwMXF4NDNsMndlbDhwNDM1In0.MN-db8RcUd9dfWRvD7arEg"}),T={mapboxStyle:"mapbox://styles/codeforafrica/cju18pxjf12yj1gp7qhdmgicd"};var f=function(e){var a=e.data,t=e.filters,o=d(a),n=Object(i.useState)(["all"]),c=Object(l.a)(n,2),f=c[0],b=c[1];return Object(i.useEffect)(function(){var e=["all"];t.forEach(function(a){var t=e.find(function(e){return e[1]===a[0]});t?t.push(a[1]):e.push(["in"].concat(Object(s.a)(a)))}),b(e)},[t]),r.a.createElement(p,{style:T.mapboxStyle,center:[39.299,-5.368],zoom:[7.99],containerStyle:{height:"100vh",width:"100vw"}},r.a.createElement(m.d,{position:"bottom-right"}),r.a.createElement(m.b,{id:"blast_sensor_location",type:"circle",paint:{"circle-color":"#463354","circle-opacity":.8}},o.map(function(e){return r.a.createElement(m.a,{coordinates:e})})),r.a.createElement(m.c,{id:"blast_radius_source",geoJsonSource:y(o,30)}),r.a.createElement(m.b,{id:"blast_radius",type:"fill",sourceId:"blast_radius_source",paint:{"fill-color":"#463354","fill-opacity":.6}}),r.a.createElement(m.c,{id:"blast_lines_source",geoJsonSource:u(a,o,30)}),r.a.createElement(m.b,{id:"blast_lines",type:"line",sourceId:"blast_lines_source",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#1798A6","line-width":1},filter:f}))},b=t(52),D=Object(b.a)(function(e){return{root:{zIndex:1,position:"absolute",width:"10rem",lineHeight:"15px",marginTop:"10rem",marginLeft:"4rem",marginBottom:"4rem",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",overflow:"scroll",backgroundColor:"white"},header:{display:"inline-block",height:"3rem",width:"100%",backgroundColor:"#4a345a",color:"white",padding:" 0.5rem"},filterGroup:{marginLeft:"1.5rem",marginRight:"1.5rem",'& input[type="checkbox"]':{appearance:"radio",marginBottom:"10px"}},filterTitle:{color:"grey"},filterLabel:{display:"flex",alignItems:"baseline",color:"grey"}}});function g(e){var a=e.onFilter,t=D(),o=Object(i.createRef)();return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.header},r.a.createElement("h2",null,"Filters")),r.a.createElement("div",{ref:o,className:t.filterGroup,onClick:function(){if(o.current){var e=o.current.querySelectorAll("input[type=checkbox]"),t=Array.from(e).filter(function(e){return e.checked});a(t.map(function(e){return[e.name,e.value]}))}}},r.a.createElement("h4",{className:t.filterTitle},"Tide"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Tide",value:"Spring"}),"Spring"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Tide",value:"Normal"}),"Normal"),r.a.createElement("h4",{className:t.filterTitle},"Tidal state"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Tidal State",value:"Falling"}),"Falling"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Tidal State",value:"High"}),"High"),r.a.createElement("h4",{className:t.filterTitle},"Time of Day"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Time of Day",value:"AM"}),"AM"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Time of Day",value:"PM"}),"PM"),r.a.createElement("h4",{className:t.filterTitle},"Day"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Day",value:"Monday"}),"Monday"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Day",value:"Tuesday"}),"Tuesday"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Day",value:"Wednesday"}),"Wednesday"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Day",value:"Tuesday"}),"Thursday"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Day",value:"Friday"}),"Friday"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Day",value:"Saturday"}),"Saturday"),r.a.createElement("label",{className:t.filterLabel},r.a.createElement("input",{type:"checkbox",name:"Day",value:"Sunday"}),"Sunday")))}var h=Object(b.a)(function(e){return{root:{zIndex:1,flexGrow:1,position:"absolute",top:"3rem",right:"2rem",width:"24rem",height:"5rem",display:"flex",flexDirection:"row",justifyContent:"space-around",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",backgroundColor:"white"},container:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center"},label:{color:"#010c14",marginLeft:"0.4rem"},sensorNumber:{color:"#4a345a"},blastsNumber:{color:"#053354"}}});function M(e){var a=e.numberOfSensors,t=e.numberOfBlasts,i=h();return r.a.createElement("div",{className:i.root},r.a.createElement("div",{className:i.container},r.a.createElement("h1",{className:i.sensorNumber},a),r.a.createElement("p",{className:i.label},"Blast sensors")),r.a.createElement("div",{className:i.container},r.a.createElement("h1",{className:i.blastsNumber},t),r.a.createElement("p",{className:i.label},"Blast detected")))}var _=t(13);var B=function(){var e=Object(i.useState)([]),a=Object(l.a)(e,2),t=a[0],o=a[1],n=d(_);return r.a.createElement(i.Fragment,null,r.a.createElement(g,{onFilter:o}),r.a.createElement(M,{numberOfSensors:n.length,numberOfBlasts:_.features.length}),r.a.createElement(f,{data:_,filters:t}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.9f65dc3c.chunk.js.map