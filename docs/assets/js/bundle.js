!function(e){var a={};function t(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var o in e)t.d(i,o,function(a){return e[a]}.bind(null,o));return i},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="assets/",t(t.s=0)}([function(e,a,t){e.exports=t(1)},function(e,a,t){"use strict";t.r(a);var i={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:1,Location:"Maziwe Island",Date:"6/4/2018",Day:"Monday",Time:"12:29:53 PM","Time of Day":"PM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180604_122952_913","Blast Bearing":28.66,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:2,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"8:29:45 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180616_082945_232","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:3,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"9.22.11 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180616_092210_704","Blast Bearing":31.72,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:4,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"9:23:03 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180616_092302_771","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:5,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"9:24:45 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180616_092445_315","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:6,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"9.29:45 AM","Time of Day":"AM",Year:2018,"Tidal State":"High",Tide:"Normal","Wav-File-Name":"Ish_Bomb20180616_092956_809","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:7,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"11:08:16 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Normal","Wav-File-Name":"Ish_Bomb20180616_110815_511","Blast Bearing":24.59,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:8,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"11:13:16 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180616_111315_609","Blast Bearing":31.48,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:9,Location:"Maziwe Island",Date:"6/16/2018",Day:"Saturday",Time:"11:27:47 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180616_112746_876","Blast Bearing":36.93,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:10,Location:"Maziwe Island",Date:"6/25/2018",Day:"Monday",Time:"8:15:53 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180625_081553_435","Blast Bearing":28.62,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:11,Location:"Maziwe Island",Date:"6/25/2018",Day:"Monday",Time:"9:06:39 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180625_090639_061","Blast Bearing":33.14,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:12,SLocation:"Maziwe Island",Date:"7/8/2018",Day:"Sunday",Time:"9:34:31 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180708_093430_749","Blast Bearing":26.95,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:13,Location:"Maziwe Island",Date:"7/8/20187",Day:"Sunday",Time:"12:52:37 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180708_125236_672","Blast Bearing":25.58,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:14,Location:"Maziwe Island",Date:"7/10/2018",Day:"Tuesday",Time:"9:31:09 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180710_093109_435","Blast Bearing":27.05,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:15,Location:"Maziwe Island",Date:"7/11/2018",Day:"Wednesday",Time:"7:59:01 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180711_075900_759","Blast Bearing":28.57,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:16,Location:"Maziwe Island",Date:"7/11/2018",Day:"Wednesday",Time:"8:40:15 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180711_084015_259","Blast Bearing":27.05,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:17,Location:"Maziwe Island",Date:"7/11/2018",Day:"Wednesday",Time:"8:40:34 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180711_084033_760","Blast Bearing":27.05,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:18,Location:"Maziwe Island",Date:"7/12/2018",Day:"Thursday",Time:"7:40:49 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180712_074048_850","Blast Bearing":22.77,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:19,Location:"Maziwe Island",Date:"7/12/2018",Day:"Thursday",Time:"8:40:25 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180712_084025_028","Blast Bearing":22.07,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:20,Location:"Maziwe Island",Date:"7/13/2018",Day:"Friday",Time:"9:30:39 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180713_093038_601","Blast Bearing":36.49,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:21,Location:"Maziwe Island",Date:"7/13/2018",Day:"Friday",Time:"9:50:32 AM","Time of Day":"AM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180713_095031_517","Blast Bearing":31.77,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:22,Location:"Maziwe Island",Date:"7/14/2018",Day:"Saturday",Time:"12:32:11 PM","Time of Day":"PM",Year:2018,"Tidal State":"",Tide:"","Wav-File-Name":"Ish_Bomb20180714_123210_673","Blast Bearing":34.84,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.3,-4.9]},properties:{id:23,Location:"Maziwe Island",Date:"7/15/2018",Day:"Sunday",Time:"8:41:02 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180715_084102_135","Blast Bearing":33.23,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.3,-4.9]},properties:{id:24,Location:"Fish Eagle",Date:"8/8/2018",Day:"Wednesday",Time:"14:29:37 PM","Time of Day":"PM",Year:2018,"Tidal State":"High",Tide:"Normal","Wav-File-Name":"Ish_Bomb20180808_142936_784","Blast Bearing":15.38,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:25,Location:"Fish Eagle",Date:"8/21/2018",Day:"Tuesday",Time:"15:20:55 PM","Time of Day":"PM",Year:2018,"Tidal State":"Falling",Tide:"Normal","Wav-File-Name":"Ish_Bomb20180821_152054_827","Blast Bearing":15.41,"Detection Radius(km)":"30"}},{type:"Feature",geometry:{type:"Point",coordinates:[39.07,-5.49]},properties:{id:26,Location:"Maziwe Island",Date:"9/29/2018",Day:"Saturday",Time:"9:35:14 AM","Time of Day":"AM",Year:2018,"Tidal State":"Falling",Tide:"Spring","Wav-File-Name":"Ish_Bomb20180929_093514_719","Blast Bearing":17.54,"Detection Radius(km)":"30"}}]};mapboxgl.accessToken="pk.eyJ1IjoiY29kZWZvcmFmcmljYSIsImEiOiJjanZpMnRvdHYwMXF4NDNsMndlbDhwNDM1In0.MN-db8RcUd9dfWRvD7arEg";var o=new mapboxgl.Map({container:"map",style:"mapbox://styles/codeforafrica/cju18pxjf12yj1gp7qhdmgicd",center:[39.288,-5.264],zoom:8});function r(e){return e.map(function(e){return Number(e.toFixed(3))})}var n,d=new Set(i.features.map(function(e){return r(e.geometry.coordinates).join(",")})),s=(n=d,function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(n)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(e){return e.split(",").map(function(e){return Number(e)})});var l=Object.keys(s).length;document.getElementById("number-sensor").innerHTML=l;var y=Object.keys(i.features).length;document.getElementById("number-detected").innerHTML=y,o.on("load",function(){var e,a,t=new mapboxgl.NavigationControl({showCompass:!1});o.addControl(t,"bottom-right"),o.addLayer({id:"points",type:"circle",source:{type:"geojson",data:i},layout:{},paint:{"circle-color":"#463354","circle-opacity":.8}}),o.addSource("circles",function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64;return{type:"geojson",data:{type:"FeatureCollection",features:e.map(function(e){for(var i,o,r,n=e[1],d=e[0],s=a,l=[],y=s/(111.32*Math.cos(n*Math.PI/180)),m=s/110.574,c=0;c<t;c++)i=c/t*(2*Math.PI),o=y*Math.cos(i),r=m*Math.sin(i),l.push([d+o,n+r]);return l.push(l[0]),{type:"Feature",geometry:{type:"Polygon",coordinates:[l]}}})}}}(s,30)),o.addSource("lines",(e=30,a=[],s.forEach(function(t){var o=i.features.filter(function(e){return r(e.geometry.coordinates).join(",")==t.join(",")}).map(function(e){return e.properties});a=a.concat(o.map(function(a){var i,o,r,n=a["Blast Bearing"],d=e/(111.32*Math.cos(t[1]*Math.PI/180)),s=e/110.574;return i=n*Math.PI/180,o=d*Math.cos(i),r=s*Math.sin(i),{type:"Feature",properties:a,geometry:{type:"LineString",coordinates:[t,[t[0]+o,t[1]+r]]}}}))}),{type:"geojson",data:{type:"FeatureCollection",features:a}})),o.addLayer({id:"polygon",type:"fill",source:"circles",paint:{"fill-color":"#463354","fill-opacity":.6}}),o.addLayer({id:"route",type:"line",source:"lines",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#1798A6","line-width":1}});var n=document.getElementById("filter-group").querySelectorAll("input[type=checkbox]"),d=function(e){var a=Array.from(n).filter(function(e){return e.checked}),t=[];a.forEach(function(e){var a=t.find(function(a){return a[1]===e.name});a?a.push(e.value):t.push(["in",e.name,e.value])}),o.setFilter("route",["all"].concat(t))};Array.from(n).forEach(function(e){e.checked=!1,e.onclick=d})})}]);